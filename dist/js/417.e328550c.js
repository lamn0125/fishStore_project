"use strict";(self["webpackChunkvue_project"]=self["webpackChunkvue_project"]||[]).push([[417],{2417:function(t,c,i){i.r(c),i.d(c,{default:function(){return b}});var e=i(3396),r=i(7139);const s={class:"base-container"},o={class:"product-wrapper"},a={class:"left"},d={class:"product-title"},u=["src"],p={class:"right"},n={class:"product-unit"},l={class:"product-desc"},h={key:0},g={key:1},v={key:2,class:"product-price"},k=(0,e._)("br",null,null,-1);function _(t,c,i,_,w,C){const m=(0,e.up)("Loading");return(0,e.wg)(),(0,e.iD)(e.HY,null,[(0,e.Wm)(m,{active:w.isLoading},null,8,["active"]),(0,e._)("div",s,[(0,e._)("button",{class:"back-btn",onClick:c[0]||(c[0]=(...t)=>C.getBack&&C.getBack(...t))},"BACK TO PRODUCT"),(0,e._)("div",o,[(0,e._)("div",a,[(0,e._)("h2",d,(0,r.zw)(w.product.title),1),(0,e._)("img",{src:w.product.imageUrl,alt:"",class:"product-image"},null,8,u)]),(0,e._)("div",p,[(0,e._)("div",n,(0,r.zw)(w.product.unit),1),(0,e._)("div",l,(0,r.zw)(w.product.description),1),w.product.price?(0,e.kq)("",!0):((0,e.wg)(),(0,e.iD)("div",h,(0,r.zw)(w.product.origin_price),1)),w.product.price?((0,e.wg)(),(0,e.iD)("del",g,"ORIGINAL PRICE : $ "+(0,r.zw)(w.product.origin_price),1)):(0,e.kq)("",!0),w.product.price?((0,e.wg)(),(0,e.iD)("div",v," ON SALE PRICE : $ "+(0,r.zw)(t.$filters.currency(w.product.price)),1)):(0,e.kq)("",!0),k,(0,e._)("button",{type:"button",class:"add-btn",onClick:c[1]||(c[1]=t=>C.addToCart(w.product.id))},"ADD TO CART")])])])],64)}i(7658);var w={inject:["emitter"],data(){return{id:"",product:{},isLoading:!1}},methods:{getProduct(){const t=`https://vue3-course-api.hexschool.io/api/lamn0125-vue-api/product/${this.id}`;this.$http.get(t).then((t=>{t.data.success&&(this.product=t.data.product)}))},getBack(){this.$router.push("/products")},addToCart(t){this.isLoading=!0;const c="https://vue3-course-api.hexschool.io/api/lamn0125-vue-api/cart",i={product_id:t,qty:1};this.$http.post(c,{data:i}).then((t=>{this.isLoading=!1,this.getCart()}))},getCart(){const t="https://vue3-course-api.hexschool.io/api/lamn0125-vue-api/cart";this.$http.get(t).then((t=>{const c=t.data.data.carts.length;this.emitter.emit("sendProduct",c)}))}},created(){this.id=this.$route.params.productId,console.log(this.id),this.getProduct()}},C=i(89);const m=(0,C.Z)(w,[["render",_]]);var b=m}}]);
//# sourceMappingURL=417.e328550c.js.map